# 30キーチャレンジ用キーマップ

## 概要

　Rhymestoneの最上段を未使用にして30キーのキーボードに挑戦するためのキーマップです  
　記号類は日本語JISベースの配置になっています  

## rules.mkの設定項目

rules.mkにはコンパイル時に機能を取捨選択する設定項目があります。yesにするとほとんどはバイナリサイズが増えますので、適宜設定してください。  

### MOUSEKEY_ENABLE

マウスカーソルをキーボードから操作出来るマウスキーを使う場合はyes。  
いくつかのキーマップにはAdjustレイヤーにマウスカーソルを操作するキーが割り当てられています。  

MOUSEKEY_ENABLE = no | yes

### TAP_DANCE_ENABLE

タップダンス機能を使用する場合はyes。  

TAP_DANCE_ENABLE = no | yes

### RGBLIGHT_ENABLE

バックライト、アンダーグロー用としてはんだ付けしたRGBのLEDがあるならならyes。  
Adjustレイヤーでパラメータを制御出来るようになっています。  
RGBLIGHT_ENABLE = no | yes

### OLED_DRIVER_ENABLE

OLEDモジュールを取り付けているならyes。  
OLEDモジュールを取り付けずにこの項目をyesにしている場合、キー検出のパフォーマンスが落ちて正しくキーを拾えないことがあるので注意してください。  

OLED_DRIVER_ENABLE = no | yes

### LTO_ENABLE

古い互換機能を削除したりなどのビルドオプションを改善します。バイナリサイズが大きくなってビルドでエラーが出た場合にyesとするとファイルサイズが小さくなりエラーがでなくなることがあります。  

LTO_ENABLE = no | yes

## config.h

### USE_HASHTWENTY

Rhymestoneのα板のファームを作成する場合は定義してください。  
#define USE_HASHTWENTY  

### MASTER_RIGHT

USBを右側に着けたい場合は定義してください。  
#define MASTER_RIGHT

## キーマップの見かた

qmk_firmware\tmk_core\common\keycode.h  
に基本的なキーコードがあります。また、Keymap.cの上部にカスタムしたKC_で始まるものを登録しています。  
キーマップに書くときは「KC_」を省略して書いています。
例：KC_A → A  

Leyer Tap、Mod Tap、Tap DanceというQMKの機能を使っています。  

Layer Tapはタップで指定したキー、長押しで指定したレイヤーに移動します。  
例：LT(RAISE, KC_V) → タップでV、長押しでRAISEレイヤー移動

Mod Tapはタップで視程したキー、長押しで視程したレイヤーに移動します。  
例：LSFT_T(KC_Z) → タップでZ、長押しで左シフト

Tap Danceは指定した二つのキーをシングルタップ、ダブルタップで切り替えられます。  
例：[TD_CODO] = ACTION_TAP_DANCE_DOUBLE(KC_COMM, KC_DOT) → シングルタップでCOMM、ダブルタップでDOT

もう少し詳しい内容についてはQMK Documentをお読みいただくかネットを検索すれば情報が載っていますので別途検索してみてください。  

## 機能

　A,Z,X,C,V,M,コロン,ドット,スペース,エンター,Pの各キーは長押し時でShift,Ctrl,Gui,Alt,Lower,Raise,Alt,Gui,Ctrl,Shift,Adjustのモディファイアキー、レイヤー移動キーとして動作します。  
　文字キーの位置を優先して配置しているので、スペースキーが右下角に移動していますが、英字を打つ分には,.の続きの間隔で打てるようになるのでそこまで苦ではないと思います。  
　ファンクションキーはLower左側に配置してコーディング時のデバッグ操作のショートカットを左手だけで行えるようにしています。  
　矢印キーはVimライクにRaise+HJKLで操作出来ます。  

```c

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  [_BASE] = LAYOUT_kc( \
  //,---------------------------------------------------------------------.
      XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------|------+------+------+------+------|
          Q,     W,     E,     R,     T,     Y,     U,     I,     O,  P_AD,\
  //|------+------+------+------+------|------+------+------+------+------|
       A_SF,     S,     D,     F,     G,     H,     J,     K,     L,  ENSF,\
  //|------+------+------+------+------|------+------+------+------+------|
       Z_CT,  X_AL,  C_GU,  V_LO,     B,     N,  M_RA,  COGU,  DTAL,  SPCT \
  //|------+------+------+------+------|------+------+------+------+------|
  ),

  [_LOWER] = LAYOUT_kc( \
  //,---------------------------------------------------------------------.
      XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------|------+------+------+------+------|
         F1,    F2,    F3,    F4,    F5,  MINS,   EQL,  JYEN,  LBRC,  RBRC,\
  //|------+------+------+------+------+------+------+------+------+------|
       F6SF,    F7,    F8,    F9,   F10, XXXXX,  SCLN,  QUOT,  BSLS,  LSFT,\
  //|------+------+------+------+------+------+------+------+------+------|
       11CT,  12AL,  LGUI, _____,  BSPC,   SPC, _____,  SLSH,    RO,  LCTL \
  //|------+------+------+------+------+------+------+------+------+------|
  ),

  [_RAISE] = LAYOUT_kc( \
  //,---------------------------------------------------------------------.
      XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------|------+------+------+------+------|
          1,     2,     3,     4,     5,     6,     7,     8,     9,     0,\
  //|------+------+------+------+------|------+------+------+------+------|
       LSFT,   ESC,   TAB, KANJI,   ENT,  LEFT,  DOWN,    UP,  RGHT,  LSFT,\
  //|------+------+------+------+------|------+------+------+------+------|
       LCTL,  LALT,  LGUI, _____,   DEL, XXXXX, _____, XXXXX, XXXXX,  LCTL \
  //|------+------+------+------+-------------+------+------+------+------|
  ),

  [_ADJUST] = LAYOUT_kc( \
  //,---------------------------------------------------------------------.
      XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX, XXXXX,\
  //|------+------+------+------+------|------+------+------+------+------|
        RST,  LRST,  KNRM,  KSWP, XXXXX, XXXXX, XXXXX,  HOME,  PGUP, XXXXX,\
  //|------+------+------+------+------|------+------+------+------+------|
       LTOG,  LHUI,  LSAI,  LVAI,  LVAD, XXXXX, XXXXX,   END,  PGDN, _____,\
  //|------+------+------+------+------|------+------+------+------+------|
       LMOD,  LHUD,  LSAD, _____, XXXXX, XXXXX, _____, XXXXX, XXXXX, _____ \
  //|------+------+------+------+-------------+------+------+------+------|
  )
};

```
